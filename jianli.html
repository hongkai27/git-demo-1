<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>洪凯的简历</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="jianli.css">
  <script src="//at.alicdn.com/t/font_945037_1ncpizdk6c4.js"></script>
  <style type="text/css">
    .icon {
      width: 1em;
      height: 1em;
      vertical-align: -0.15em;
      fill: currentColor;
      overflow: hidden;
    }
  </style>
</head>

<body>
  <div class="topNavBar" id="topNavBar">
    <div class="topinner clearfix">
      <a href="#" class="logo" alt="logo">
        <span class="rs">RS</span><span class="card">card</span>
      </a>
      <nav class="menu">
        <ul class="clearfix">
          <li>
            <a href="#siteSelf">个人</a>
          </li>
          <li>
            <a href="#siteSkills">技能</a>
          </li>
          <li>
            <a href="#siteWorks">作品</a>
            <ul class="submenu">
              <li>作品1</li>
              <li>作品2</li>
              <li>作品3</li>
            </ul>
          </li>
          <li>
            <a href="#siteBlog">博客</a>
            <ul class="submenu">
              <li>博客1</li>
              <li>博客2</li>
              <li>博客3</li>
            </ul>
          </li>
          <li>
            <a href="#">日历</a>
          </li>
          <li>
            <a href="#">联系方式</a>
          </li>
          <li>
            <a href="#">其他</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  <div class="banner">
    <div class="mask"></div>
  </div>
  <main class="introduce">
    <div data-x id="siteSelf" class="usercard">
      <div class="pictureandtext clearfix">
        <div class="picture">
          <img src="./img/微信图片_20181125190313.jpg" width="250" height="300" alt="头像">
        </div>
        <div class="text">
          <span class="welcome">Hello</span>
          <h1>洪凯</h1>
          <p>前端开发工程师</p>
          <hr>
          <dl>
            <dt>年龄</dt>
            <dd>27</dd>
            <dt>所在城市</dt>
            <dd>南京</dd>
            <dt>邮箱</dt>
            <dd>952817116@qq.com</dd>
            <dt>手机</dt>
            <dd>15051885755</dd>
          </dl>
        </div>
      </div>
      <footer class="media">
        <a href="#">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-weibo"></use>
          </svg>
        </a>
        <a href="#">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-jianshu"></use>
          </svg>
        </a>
        <a href="#">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-boke3"></use>
          </svg>
        </a>
        <a href="#">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-jirengulogoyellow"></use>
          </svg>
        </a>
        <a href="#">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-tuite"></use>
          </svg>
        </a>
      </footer>
    </div>
    <p class="downloadjianliwai">
      <a class="downloadjianli" href="./jianli.html" target="_blank" download>下载简历</a>
    </p>
    <p class="selfIntroduction">
      Jackie Hong,前端开发工程师<br>
      已熟练掌握的技术栈包括：Javascript,ES6,Bootstrap,html,css,git,webpack等，熟悉后端语言
      python，喜欢敏捷开发，研究新技术，关注前端发展潮流，勇于尝试使用新技术。
    </p>
  </main>
  <section data-x id="siteSkills" class="skills">
    <h2>技能</h2>
    <ul class="skillslist clearfix">
      <li>
        <h4>
          HTML 5 &AMP;CSS 3
        </h4>
        <div class="progressBar">
          <div class="progress" style="width: 90%;"></div>
        </div>
      </li>
      <li>
        <h4>
          JavaScript
        </h4>
        <div class="progressBar">
          <div class="progress" style="width: 68%;"></div>
        </div>
      </li>
      <li>
        <h4>
          Vue
        </h4>
        <div class="progressBar">
          <div class="progress" style="width: 77%;"></div>
        </div>
      </li>
      <li>
        <h4>
          React
        </h4>
        <div class="progressBar">
          <div class="progress" style="width: 50%;"></div>
        </div>
      </li>
      <li>
        <h4>
          JQuery
        </h4>
        <div class="progressBar">
          <div class="progress" style="width: 70%;"></div>
        </div>
      </li>
      <li>
        <h4>
          HTTP
        </h4>
        <div class="progressBar">
          <div class="progress" style="width: 89%;"></div>
        </div>
      </li>
    </ul>
  </section>
  <section data-x id="siteWorks" class="portfolio">
    <h2>作品集</h2>
    <nav>
      <ul class="portfoliolist clearfix">
        <li id="portfolio1">所有</li>
        <li id="portfolio2">框架</li>
        <li id="portfolio3">原生</li>
      </ul>
      <div id="portfoliobar" class="bar">
        <div class="bar-inner"></div>
      </div>
    </nav>
    <div class="works">
      <div class="big" style="top:0;left:0;">
        <img src="./img/1.jpg" alt="作品1" style="width:460px;height:588px;">
      </div>
      <div class="small" style="top:0;left:470px;">
        <img src="./img/2.jpg" alt="作品2" style="width:308px;height:288px;">
      </div>
      <div class="small" style="top:300px;left:470px;">
        <img src="./img/3.jpg" alt="作品3" style="width:308px;height:288px;">
      </div>
    </div>
  </section>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.1.1/Tween.min.js"></script>
  <script>
    //将页面初始的第一个元素设置为原来位置，其他元素有动画
    let specialTags = document.querySelectorAll('[data-x]')
    for (let i = 0; i < specialTags.length; i++) {
      specialTags[i].classList.add('offset')
    }

    //作品展示按钮点击后滑条滚动
    portfolio1.onclick = function () {
      portfoliobar.className = 'bar state-1'
    }
    portfolio2.onclick = function () {
      portfoliobar.className = 'bar state-2'
    }
    portfolio3.onclick = function () {
      portfoliobar.className = 'bar state-3'
    }

    //页面滑动后导航栏定位在顶部
    setTimeout(function () {
      donghua()
    }, 500)
    window.onscroll = function (xxx) {
      if (window.scrollY > 0) {
        topNavBar.classList.add('sticky')
      } else {
        topNavBar.classList.remove('sticky')
      }
      donghua()
    }
    function donghua() {
      //滚动页面后对应的导航栏元素标签到中间后自动高亮
      let specialTags = document.querySelectorAll('[data-x]')
      let minindex = 0;
      for (let i = 1; i < specialTags.length; i++) {
        if (Math.abs(specialTags[i].offsetTop - window.scrollY) < Math.abs(specialTags[minindex].offsetTop - scrollY)) {
          minindex = i;
        }
      }
      //minindex就是离窗口顶端最近的元素
      specialTags[minindex].classList.remove('offset')
      let id = specialTags[minindex].id
      let a = document.querySelector('a[href="#' + id + '"]');
      let li = a.parentNode;
      let brothersAndme = li.parentNode.children;
      for (let i = 0; i < brothersAndme.length; i++) {//遍历标签去除light
        brothersAndme[i].classList.remove('light');
      }
      li.classList.add('light');//当前标签元素高亮
    }

    //鼠标悬浮导航栏标签后滑动条高亮
    let liTags = document.querySelectorAll('nav.menu >ul >li');
    for (let i = 0; i < liTags.length; i++) {
      liTags[i].onmouseenter = function (x) {
        x.currentTarget.classList.add('active');
      }
      liTags[i].onmouseleave = function (x) {
        x.currentTarget.classList.remove('active');
      }
    }

    //点击导航栏标签后滑行到文档对应的元素标签
    function animate(time) {
      requestAnimationFrame(animate);
      TWEEN.update(time);
    }
    requestAnimationFrame(animate);
    let aTags = document.querySelectorAll('nav.menu >ul >li >a');
    for (let i = 0; i < aTags.length; i++) {
      aTags[i].onclick = function (x) {
        x.preventDefault();//阻止服务器执行对应操作
        let a = x.currentTarget;
        let href = a.getAttribute('href');//不改变并使用自己写的href内容
        let element = document.querySelector(href);
        let top = element.offsetTop;//距离顶部的距离
        let currentTop = window.scrollY;
        let targetTop = top - 76;
        var coords = { y: currentTop };
        var tween = new TWEEN.Tween(coords)
          .to({ y: targetTop }, 500)
          .easing(TWEEN.Easing.Quadratic.InOut)
          .onUpdate(function () {
            window.scrollTo(0, coords.y)
          })
          .start();
      }
    }




  </script>
</body>

</html>